{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { decks } from \"./_Data\";\nvar DECKS_STORAGE_KEY = 'MobileFlashcards:decks';\nexport var ANSWER_KEY = new Date().getFullYear().toString() + new Date().getMonth().toString() + new Date().getDate().toString();\nexport var AnswerQuestion = function AnswerQuestion(_ref) {\n  var deck, question, passed, key;\n  return _regeneratorRuntime.async(function AnswerQuestion$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          deck = _ref.deck, question = _ref.question, passed = _ref.passed;\n          key = deck + \" \" + question;\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(AsyncStorage.mergeItem(ANSWER_KEY, JSON.stringify(_defineProperty({}, key, passed))));\n\n        case 4:\n          return _context.abrupt(\"return\", _context.sent);\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var ClearAnswer = function ClearAnswer(key) {\n  var answers, seletedAnswers;\n  return _regeneratorRuntime.async(function ClearAnswer$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.t0 = _regeneratorRuntime;\n          _context2.t1 = JSON;\n          _context2.next = 4;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(ANSWER_KEY));\n\n        case 4:\n          _context2.t2 = _context2.sent;\n          _context2.t3 = _context2.t1.parse.call(_context2.t1, _context2.t2);\n          _context2.next = 8;\n          return _context2.t0.awrap.call(_context2.t0, _context2.t3);\n\n        case 8:\n          answers = _context2.sent;\n          seletedAnswers = Object.keys(answers).filter(function (s) {\n            return s.startsWith(key);\n          });\n          seletedAnswers.map(function (s) {\n            answers[s] = undefined;\n            delete answers[s];\n          });\n          _context2.next = 13;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem(ANSWER_KEY, JSON.stringify(answers)));\n\n        case 13:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport function getData() {\n  return decks;\n}\n\nfunction formatDeckResults(results) {\n  return results === null ? decks : JSON.parse(results);\n}\n\nexport function getDecksOld() {\n  return AsyncStorage.getItem(DECKS_STORAGE_KEY).then(formatDeckResults);\n}\nexport function getDecks() {\n  var storeResults;\n  return _regeneratorRuntime.async(function getDecks$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(DECKS_STORAGE_KEY));\n\n        case 3:\n          storeResults = _context3.sent;\n\n          if (storeResults === null) {\n            AsyncStorage.setItem(DECKS_STORAGE_KEY, JSON.stringify(decks));\n          }\n\n          return _context3.abrupt(\"return\", storeResults === null ? decks : JSON.parse(storeResults));\n\n        case 8:\n          _context3.prev = 8;\n          _context3.t0 = _context3[\"catch\"](0);\n          console.log(_context3.t0);\n\n        case 11:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, [[0, 8]], Promise);\n}\nexport function getDeck(title) {\n  var storeResults;\n  return _regeneratorRuntime.async(function getDeck$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(DECKS_STORAGE_KEY));\n\n        case 3:\n          storeResults = _context4.sent;\n          return _context4.abrupt(\"return\", JSON.parse(storeResults)[id]);\n\n        case 7:\n          _context4.prev = 7;\n          _context4.t0 = _context4[\"catch\"](0);\n          console.log(_context4.t0);\n\n        case 10:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, null, null, [[0, 7]], Promise);\n}\nexport function saveDeckTitleAS(title) {\n  return _regeneratorRuntime.async(function saveDeckTitleAS$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          _context5.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.mergeItem(DECKS_STORAGE_KEY, JSON.stringify(_defineProperty({}, title, {\n            title: title,\n            questions: []\n          }))));\n\n        case 3:\n          _context5.next = 8;\n          break;\n\n        case 5:\n          _context5.prev = 5;\n          _context5.t0 = _context5[\"catch\"](0);\n          console.log(_context5.t0);\n\n        case 8:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, null, null, [[0, 5]], Promise);\n}\nexport function removeDeckAS(key) {\n  var results, data;\n  return _regeneratorRuntime.async(function removeDeckAS$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          _context6.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(DECKS_STORAGE_KEY));\n\n        case 3:\n          results = _context6.sent;\n          data = JSON.parse(results);\n          data[key] = undefined;\n          delete data[key];\n          AsyncStorage.setItem(DECKS_STORAGE_KEY, JSON.stringify(data));\n          _context6.next = 13;\n          break;\n\n        case 10:\n          _context6.prev = 10;\n          _context6.t0 = _context6[\"catch\"](0);\n          console.log(_context6.t0);\n\n        case 13:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, null, null, [[0, 10]], Promise);\n}\nexport function addCardToDeckAS(title, card) {\n  var deck;\n  return _regeneratorRuntime.async(function addCardToDeckAS$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.prev = 0;\n          _context7.next = 3;\n          return _regeneratorRuntime.awrap(getDeck(title));\n\n        case 3:\n          deck = _context7.sent;\n          _context7.next = 6;\n          return _regeneratorRuntime.awrap(AsyncStorage.mergeItem(DECKS_STORAGE_KEY, JSON.stringify(_defineProperty({}, title, {\n            questions: _toConsumableArray(deck.questions).concat(card)\n          }))));\n\n        case 6:\n          _context7.next = 11;\n          break;\n\n        case 8:\n          _context7.prev = 8;\n          _context7.t0 = _context7[\"catch\"](0);\n          console.log(_context7.t0);\n\n        case 11:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, null, null, [[0, 8]], Promise);\n}\nexport function resetDecks() {\n  return _regeneratorRuntime.async(function resetDecks$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.prev = 0;\n          _context8.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem(DECKS_STORAGE_KEY, JSON.stringify(decks)));\n\n        case 3:\n          _context8.next = 8;\n          break;\n\n        case 5:\n          _context8.prev = 5;\n          _context8.t0 = _context8[\"catch\"](0);\n          console.log(_context8.t0);\n\n        case 8:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, null, null, [[0, 5]], Promise);\n}","map":{"version":3,"sources":["/home/kinathan/Desktop/retribution/mobile-flashcards/utilities/api.js"],"names":["AsyncStorage","decks","DECKS_STORAGE_KEY","ANSWER_KEY","Date","getFullYear","toString","getMonth","getDate","AnswerQuestion","deck","question","passed","key","mergeItem","JSON","stringify","ClearAnswer","getItem","parse","answers","seletedAnswers","Object","keys","filter","s","startsWith","map","undefined","setItem","getData","formatDeckResults","results","getDecksOld","then","getDecks","storeResults","console","log","getDeck","title","id","saveDeckTitleAS","questions","removeDeckAS","data","addCardToDeckAS","card","concat","resetDecks"],"mappings":"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","sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage'\nimport { decks } from './_Data';\n\nconst DECKS_STORAGE_KEY = 'MobileFlashcards:decks';\n\nexport const ANSWER_KEY = new Date().getFullYear().toString() +\n  new Date().getMonth().toString() +\n  new Date().getDate().toString();\n\nexport const AnswerQuestion = async ({ deck, question, passed }) => {\n  const key = deck + \" \" + question;\n  return await AsyncStorage.mergeItem(\n    ANSWER_KEY,\n    JSON.stringify({ [key]: passed })\n  );\n};\n\nexport const ClearAnswer =async (key)=>{\n\n  const answers = await JSON.parse(await AsyncStorage.getItem(ANSWER_KEY));\n  const seletedAnswers = Object.keys(answers).filter((s) => s.startsWith(key));\n  seletedAnswers.map((s) => {\n    answers[s] = undefined;\n    delete answers[s];\n  });\n  await AsyncStorage.setItem(ANSWER_KEY, JSON.stringify(answers));\n}\n\nexport function getData() {\n  return decks;\n}\n\nfunction formatDeckResults(results) {\n  return results === null ? decks : JSON.parse(results);\n}\n\nexport function getDecksOld() {\n\n  return AsyncStorage.getItem(DECKS_STORAGE_KEY).then(formatDeckResults);\n  \n}\n\n\nexport async function getDecks() {\n  try {\n    const storeResults = await AsyncStorage.getItem(DECKS_STORAGE_KEY);\n\n    \n    if (storeResults === null) {\n      AsyncStorage.setItem(DECKS_STORAGE_KEY, JSON.stringify(decks));\n    }\n\n    return storeResults === null ? decks : JSON.parse(storeResults);\n  } \n  catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function getDeck(title) {\n  try {\n    const storeResults = await AsyncStorage.getItem(DECKS_STORAGE_KEY);\n\n    return JSON.parse(storeResults)[id];\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function saveDeckTitleAS(title) {\n  try {\n    await AsyncStorage.mergeItem(\n      DECKS_STORAGE_KEY,\n      JSON.stringify({\n        [title]: {\n          title,\n          questions: []\n        }\n      })\n    );\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function removeDeckAS(key) {\n  try {\n    const results = await AsyncStorage.getItem(DECKS_STORAGE_KEY);\n    const data = JSON.parse(results);\n    data[key] = undefined;\n    delete data[key];\n    AsyncStorage.setItem(DECKS_STORAGE_KEY, JSON.stringify(data));\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function addCardToDeckAS(title, card) {\n  try {\n    const deck = await getDeck(title);\n\n    await AsyncStorage.mergeItem(\n      DECKS_STORAGE_KEY,\n      JSON.stringify({\n        [title]: {\n          questions: [...deck.questions].concat(card)\n        }\n      })\n    );\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function resetDecks() {\n  try {\n    await AsyncStorage.setItem(DECKS_STORAGE_KEY, JSON.stringify(decks));\n  } catch (error) {\n    console.log(error);\n  }\n}"]},"metadata":{},"sourceType":"module"}