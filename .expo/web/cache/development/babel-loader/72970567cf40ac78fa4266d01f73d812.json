{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Styles from \"../utilities/styles\";\nimport { AnswerQuestion, ANSWER_KEY, ClearAnswer } from \"../utilities/api\";\nimport { useState, useEffect } from \"react\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { setLocalNotification, clearLocalNotification } from \"../utilities/helpers\";\n\nvar StartQuiz = function StartQuiz(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      displayResult = _useState2[0],\n      setDisplayResult = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      fromDb = _useState4[0],\n      setFromDb = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      index = _useState6[0],\n      setIndex = _useState6[1];\n\n  var deck = route.params.deck.deck;\n  var QuestionList = route.params.deck.questions;\n\n  var _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      displayQuestion = _useState8[0],\n      setDisplayQuestion = _useState8[1];\n\n  useEffect(function () {\n    console.log(\"My answer key\", QuestionList.length);\n  }, []);\n  var selectedQuestion;\n\n  if (QuestionList.length !== 0) {\n    selectedQuestion = QuestionList[index];\n  }\n\n  var handleReset = function handleReset() {\n    ClearAnswer(route.params.deck.title);\n    setDisplayResult(false);\n    setFromDb([]);\n    setIndex(0);\n  };\n\n  var handleAnswer = function handleAnswer(text) {\n    AnswerQuestion({\n      deck: route.params.deck.title,\n      question: selectedQuestion.question,\n      passed: text\n    });\n    var data = fromDb;\n\n    if (data) {\n      data.push(text);\n      setFromDb(data);\n    }\n\n    if (index + 1 === QuestionList.length) {\n      setDisplayResult(true);\n      clearLocalNotification();\n      setLocalNotification();\n    } else {\n      setIndex(index + 1);\n    }\n  };\n\n  return React.createElement(View, {\n    style: Styles.main\n  }, QuestionList.length === 0 ? React.createElement(View, {\n    style: Styles.VerticalAlignCenter\n  }, React.createElement(Text, {\n    style: Styles.deckTexts\n  }, \"Sorry You can not take a quiz, because there are no cards in the deck\")) : displayResult ? React.createElement(View, {\n    style: {\n      flex: 1\n    }\n  }, React.createElement(View, {\n    style: Styles.VerticalAlignCenter\n  }, React.createElement(Text, {\n    style: Styles.deckTexts\n  }, \"passed\", \" \" + JSON.stringify(fromDb.filter(function (s) {\n    return s === true;\n  }).length), \"/\", JSON.stringify(fromDb.length)), React.createElement(View, {\n    style: {\n      marginTop: 50\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: handleReset\n  }, React.createElement(Text, {\n    style: Styles.button\n  }, \"Restart Quiz\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate(\"DeckDetail\", {\n        deck: route.params.deck\n      });\n    }\n  }, React.createElement(Text, {\n    style: [Styles.button, {\n      color: \"gray\",\n      borderColor: \"gray\"\n    }]\n  }, \"Back to Deck\"))))) : React.createElement(View, {\n    style: {\n      flex: 1\n    }\n  }, React.createElement(Text, null, index + 1, \"/\", QuestionList.length), React.createElement(View, {\n    style: Styles.VerticalAlignCenter\n  }, displayQuestion ? React.createElement(Text, {\n    style: Styles.deckTexts\n  }, selectedQuestion.question) : React.createElement(Text, {\n    style: Styles.deckTexts\n  }, selectedQuestion.answer), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setDisplayQuestion(!displayQuestion);\n    }\n  }, displayQuestion ? React.createElement(Text, {\n    style: Styles.subButton\n  }, \"Answer\") : React.createElement(Text, {\n    style: Styles.subButton\n  }, \"question\"))), React.createElement(View, {\n    style: {\n      marginBottom: 50\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return handleAnswer(true);\n    }\n  }, React.createElement(Text, {\n    style: Styles.button\n  }, \"Correct\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return handleAnswer(false);\n    }\n  }, React.createElement(Text, {\n    style: [Styles.button, {\n      color: \"red\",\n      borderColor: \"red\"\n    }]\n  }, \"Incorrect\")))));\n};\n\nexport default StartQuiz;","map":{"version":3,"sources":["/home/kinathan/Desktop/retribution/mobile-flashcards/components/Quiz.js"],"names":["React","Styles","AnswerQuestion","ANSWER_KEY","ClearAnswer","useState","useEffect","TouchableOpacity","AsyncStorage","setLocalNotification","clearLocalNotification","StartQuiz","route","navigation","displayResult","setDisplayResult","fromDb","setFromDb","index","setIndex","deck","params","QuestionList","questions","displayQuestion","setDisplayQuestion","console","log","length","selectedQuestion","handleReset","title","handleAnswer","text","question","passed","data","push","main","VerticalAlignCenter","deckTexts","flex","JSON","stringify","filter","s","marginTop","button","navigate","color","borderColor","answer","subButton","marginBottom"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { View, Text } from \"react-native\";\nimport Styles from \"../utilities/styles\";\nimport { AnswerQuestion, ANSWER_KEY,ClearAnswer } from \"../utilities/api\";\nimport { useState, useEffect } from \"react\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { setLocalNotification,clearLocalNotification } from \"../utilities/helpers\";\n\n\n\nconst StartQuiz = ({ route, navigation }) => {\n  const [displayResult, setDisplayResult] = useState(false);\n  const [fromDb, setFromDb] = useState(null);\n  const [index, setIndex] = useState(0);\n  const { deck } = route.params.deck;\n  const QuestionList = route.params.deck.questions;\n  const [displayQuestion, setDisplayQuestion] = useState(true);\n\n  \n  useEffect(() => {\n      \n    console.log(\"My answer key\",QuestionList.length);\n\n\n  }, []);\n\n  let selectedQuestion;\n  if (QuestionList.length !== 0) {\n    selectedQuestion = QuestionList[index];\n  }\n  const handleReset=()=>{\n    ClearAnswer(route.params.deck.title)\n    setDisplayResult(false)\n    setFromDb([])\n    setIndex(0)\n  }\n\n  const handleAnswer = (text) => {\n    AnswerQuestion({\n      deck: route.params.deck.title,\n      question: selectedQuestion.question,\n      passed: text,\n    });\n\n    const data = fromDb;\n    if (data) {\n      data.push(text);\n      setFromDb(data);\n    }\n    if (index + 1 === QuestionList.length) {\n      setDisplayResult(true);\n      clearLocalNotification()\n      setLocalNotification()\n    } else {\n      setIndex(index + 1);\n    }\n  };\n\n  return (\n    <View style={Styles.main}>\n      {QuestionList.length === 0 ? (\n        <View style={Styles.VerticalAlignCenter}>\n          <Text style={Styles.deckTexts}>\n            Sorry You can not take a quiz, because there are no cards in the\n            deck\n          </Text>\n        </View>\n      ) : displayResult ? (\n        <View style={{ flex: 1 }}>\n          <View style={Styles.VerticalAlignCenter}>\n            <Text style={Styles.deckTexts}>\n              passed\n              {\" \" + JSON.stringify(fromDb.filter((s) => s === true).length)}/\n              {JSON.stringify(fromDb.length)}\n            </Text>\n            <View style={{ marginTop: 50 }}>\n            <TouchableOpacity onPress={handleReset}>\n              <Text style={Styles.button}>Restart Quiz</Text>\n            </TouchableOpacity>\n\n\n            <TouchableOpacity onPress={() => navigation.navigate(\"DeckDetail\",{deck:route.params.deck})}>\n              <Text\n                style={[Styles.button, { color: \"gray\", borderColor: \"gray\" }]}\n              >\n                Back to Deck\n              </Text>\n            </TouchableOpacity>\n          </View>\n          </View>\n        </View>\n      ) : (\n        <View style={{ flex: 1 }}>\n          <Text>\n            {index + 1}/{QuestionList.length}\n          </Text>\n          <View style={Styles.VerticalAlignCenter}>\n            {displayQuestion ? (\n              <Text style={Styles.deckTexts}>{selectedQuestion.question}</Text>\n            ) : (\n              <Text style={Styles.deckTexts}>{selectedQuestion.answer}</Text>\n            )}\n            <TouchableOpacity\n              onPress={() => setDisplayQuestion(!displayQuestion)}\n            >\n              {displayQuestion ? (\n                <Text style={Styles.subButton}>Answer</Text>\n              ) : (\n                <Text style={Styles.subButton}>question</Text>\n              )}\n            </TouchableOpacity>\n          </View>\n          <View style={{ marginBottom: 50 }}>\n            <TouchableOpacity onPress={() => handleAnswer(true)}>\n              <Text style={Styles.button}>Correct</Text>\n            </TouchableOpacity>\n            <TouchableOpacity onPress={() => handleAnswer(false)}>\n              <Text\n                style={[Styles.button, { color: \"red\", borderColor: \"red\" }]}\n              >\n                Incorrect\n              </Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      )}\n    </View>\n  );\n};\n\nexport default StartQuiz;"]},"metadata":{},"sourceType":"module"}